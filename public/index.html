<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

    <script>
        if ('geolocation' in navigator) {
            console.log('geolocation available')

            navigator.geolocation.getCurrentPosition(async (position) => {

                const lat = position.coords.latitude;
                const long = position.coords.longitude;

                document.getElementById('longitude').textContent = long;
                document.getElementById('latitude').textContent = lat;

                const data = {lat, long};
                const options={
                    method:'POST',
                    headers:{
                        'Content-Type':'application/json'
                    },
                    body: JSON.stringify(data)

                }

                const response = await fetch('/api',options);
                const blob = await response.json();
                console.log(blob);
                //console.log(position);
            });
        } else {
            console.log('geolocation not available')
        }

    </script>

    <h1>Data Selfie</h1>
    <p>Latitude: <span id="latitude"></span>&deg;</p>
    <p>Longitude: <span id="longitude"></span>&deg;</p>
    <button class="btn" onclick="runserver">Submit</button>

</body>

</html>